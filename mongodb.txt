### what is mongo db and why it is used? ?
mongodb is nosql database , document oriented database that store data in BSON(JSON LIKE) documents.
it is :
1. schema -flexible 
2. horizontally scalable 
3. good for rapid development and handling unstructured and semi structured data .

### what is collection and what is documents?
documents: basic unit of data, stored as a json like object .
collection: a group of document , similar to table in relational db , but without a fix schema 

### what is  mongoose and why it is used with node js ?
mongoose is an odm (object data modeling) library for mongodb and node js ,
it define schema and models 
provide validaton , middleware/hooks 
makes querying easy with nice api 

example: 
const UserShema=new mongoose.Schema({
    name:String,
    email:{type::String, required:true,unique:true}
});
const User=mongoose.model("User",UserSchema);

### how do you connect a node js app to mongo db using mongoose ?
const mongoose=require("mongoose");
mongoose.connect(process.env.MONGO_URI,{
    useNewUrlParser:true,
    useUnifiedTopology:true
}).then(()=>{console.log("DB Connected")}).catch(err=>{console.error(err)})

### basic crud operations with mongoose?
//create
await User.create({name:"Ritesh",email:"riteshtiwari3112003@gmail.com"});
//read
const users=await User.find();
const user=await User.findById(id);
//update
await User.findByIdAndUpdate(id,{name:"upendra"},{new:true})
//delete 
await User.findByIdAndDelete(id);

### what are indexs in mongodb ?
indexes improve query erformance by allowing mongodb to search data more efficiently 
uses extra storage 
slow down write operation slightly 
const UserSchema = new mongoose.Schema({
  email: { type: String, unique: true, index: true }
});

### what is difference between find(), findById() and findOne()?
find(filter) return array of matching documents
findOne(filter) return the first matching document 
findById(id) find document by its _id field 
 

 #### mongo db introducton 

 homogeneous data storage refer to a system where all the data is stored in a consistent format:
 with in a single mongo db collection , the document typically share a largely homogeneous structure , while 
 mongodb's schema is flexible (document in the dsame collections dont need to have the exact same field or data types), in practice, for efficient querying and data management 
 developer usually  design 
 document within a collection to have a consistent set of field and data types

 scale : while relational database do support sharding , mongodb often highlights scalability as a key strenght for several reasons.
1. architectural difference and design philosphy: 
schema flexibility : mongodb 's schema -less or flexible schema allows for easier evolution and adaptaion of data structure without the need for complex and potentially disruptive schema migration that 
can be common in sharded relational database. this flexibility can simplify scaling efforts , espacially 
when dealing with rapidly changing data requirement 

### introduction to nosql 

no sql is a non relational dms(data management system) that is used for distributed data stores with the need of homodeneous data storage 

data type in mongo db:
structred data  : and in structed data all document have same  field and property 
unstructured data :in a collection in each document have diffrrent different data andtype of data like different different stucture of each document , like different different field and property in each documents.

semi structured data : in this both structured and unstructured both property present and depending on data source and coming data from source 
polymorphic data ; depending on data types or subtypes 

### no sql database system include a wide varity of database technologies that can store structured , semi structured, un structured polymorphic data 

No sql considered to be an approach to database design that can hold wide variety of data modals including key value , documents , colummnar and graph format 

types of nosql:
1. key value database:
key value database stores data as a collection of key value pairs in which a key serves as a unique identifier 
the key in key-value pair must be unique , this is the unique identifier that allows you to access the value associated with that key 

2. columnar database :
a columnar database stores data in columns rather than row 
the main aim of columnar database is to efficiently write and read data to and from hard disk storage in order to speed up the time it takes to return a query 

### graph database:
graph data stores assemble the data as nodes, which are like records in a relational database , and edge , which represent connection between nodes.

each node represent an entity 9a person , place, thing , category or other piece of data ) and each relationship represents how two nodes are associated .

#### benifit of no sql :
Elastic scaling 
avoid join 
no need for data to fit a schema 
quick and easy development 
ability to cope with network failure
low latency and high performance 
support multiple data structure 
less management 

#### differnece between rdbms and no sql 
rdbms :
primarily known as relational database management system 
nosql:
primarily known for non relational database management system 

rdbms:
database are table based 
nosql:
database are document based , key value paired , graph database or columnar stores 

rdbms :
have predefined schema 
nosql:
have dynamic schema for unstructured data 

rdbms:
database are not best fit for heirarchical data storage 
nosql:
database fits better for hierarchical data storage 

rdbms:
ex: mysql, oracle, sqlite, mssql etc.
nosql:
mongodb , bigtable cassandra neo4j 


#### document database ;
it is a modern apprach to store data in json format rather than tables . it allows you to display the data in its original form the way it's intended to be.

document store database store  each record  and its associated data with in a single document 

### graph database:
graph database are nosql database that use the graph data model composed of points, which is an entity like a person , place , object or appropriate peice of data and edge ,which symbolize the relationship between two nodes 

#### mongo db 
mongo db is considered to be an open source non relational database management system that uses a document orieneted database model that support various structure of data.
mongodb's document model is simple for developers to learn and use.while still providing all the capability needed to meet the most complex requirement at any scale .
so whats happeninternally structure ?

mongo db will not the save the data in json format , internally it saves in the extended json format which is bson format(binary json format) 

#### mongo db tools :
many mongho db management tools are available in the market , these tools help us in enhancing the productivity of mongo db development and admin tasks 
nosql booster 
mongo db compass
robot3t 
nosql manager 


collections 
a collection store several documents , it is similer to a table of an redbms and may stote different structured document 

mondo shel download link :
https://www.mongodb.com/try/download/shell
mongodb download link:
https://www.mongodb.com/try/download/community
mongo compass:
https://www.mongodb.com/try/download/shell

so first i install mongo shell from first link so when i installed it in terminal you can say or write this command 
"mongosh"
and hit enter 
so when you say mongosh in terminal it connected to mongodb your local mongodb like by default local mongo db mongodb://127.0.0.1:27017..........
so basically it print the mongo db version and mongo db compass that you are connecting 

in mongo sheel all command and when they run then what output produce all list below:

list all database:
show dbs 

create/select a database:                                     element chack:
use school                                                    db.students.find({address:{$exist:true}})

check current database:
db

show collections in curtrent db:
show collections

create a collection:
db.createCollection("students")

insert one document:
db.students.insertOne({
  name:"Virat",
  age:20,
  subjects:["Math","Physics"]
})

insert many documents:
db.students.insertMany([{
  name:"Sam",
  age:22,
  subjects:["Bioogy","Chemistry"]
},
{name:"Ramya",
age:21,
subjects:["Biology","Chemeistry"]}])

find all document or find all:
db.students.find()

find with conditions:
db.students.find({age:{$gt:20}})

pretty print results:
db.students.find().pretty()

find one :
db.students.findOne({name:"Ramya"})

update one :
db.students.updateOne({name:"Ramya"},
{$set:{age:25}})

update many:
db.students.updateMany(
  {age:{$gt:20}},
  {$inc:{age:1}}
)

delete one:
db.students.deleteOne({name:"Sam"})
db.students.deleteOne({name:"Sam"})

deletr many:
db.students.deleteMany({age:{$lt:21}})

create index :
db.students.createIndex({name:1})

view indexs:
db.students.getIndexs()

#### drop a collection 
db.students.drop()

drop the database"
db.dropDatabase()

in mongo a database can not exist without a single collection

now use another database which present in local like 
use riteshtiwari3112003

now create collection 
db.createCollection("student")

#### logical 
db.students.find({
  $and:[
    {age:{$gt:20}},
    {subject:"math"}
  ]
})

### read operation 
you can spacify the query filter that identify the documents to return 
db.operate.find().limit(2)

#### what is objectId in mongodb ?
ObjectId is default type for the _id field, it is 12 byte value , that is unique and encode timestamp , machine id, process id, process id, and counter. it is uniquly identifiesas document 

### what is mongo db aggregation framework ?
a pipeline based framework used to process and transform data , you define stages like :
$match - filter 
$group - grouping 
$project- shape output 
$sort , $limit    :   example 

db.orders.aggregate([
  {$match:{status:'completed'}},
  {$group:{_id:'$userId',total:{$sum:'$amount'}}}
])

